<div class="results-container" *ngIf="medicines.length > 0">
    <mat-card class="results-card">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 full-width">

            <ng-container matColumnDef="index">
                <th mat-header-cell *matHeaderCellDef> Sr No </th>
                <td mat-cell *matCellDef="let medicine; let i = index">
                    {{ i + 1 + (paginator.pageIndex * paginator.pageSize) }}
                </td>
            </ng-container>

            <ng-container matColumnDef="medicine_name">
                <th mat-header-cell *matHeaderCellDef> Medicine Name </th>
                <td mat-cell *matCellDef="let medicine">
                    {{ medicine.medicine_name ? medicine.medicine_name : 'N/A' }}
                </td>
            </ng-container>

            <ng-container matColumnDef="manufacturer_name">
                <th mat-header-cell *matHeaderCellDef> Manufacturer Name </th>
                <td mat-cell *matCellDef="let medicine">
                    {{ medicine.manufacturer_name ? medicine.manufacturer_name : 'N/A' }}
                </td>
            </ng-container>

            <ng-container matColumnDef="dosage_type">
                <th mat-header-cell *matHeaderCellDef> Dosage Type </th>
                <td mat-cell *matCellDef="let medicine">
                    {{ medicine.dosage_type ? medicine.dosage_type : 'N/A' }}
                </td>
            </ng-container>

            <ng-container matColumnDef="content">
                <th mat-header-cell *matHeaderCellDef> Content </th>
                <td mat-cell *matCellDef="let medicine">
                    {{ medicine.content ? medicine.content : 'N/A' }}
                </td>
            </ng-container>

            <ng-container matColumnDef="mrp">
                <th mat-header-cell *matHeaderCellDef> Price </th>
                <td mat-cell *matCellDef="let medicine">
                    {{ medicine.mrp ? medicine.mrp : 'N/A' }}
                </td>
            </ng-container>

            <ng-container matColumnDef="available_for_patient">
                <th mat-header-cell *matHeaderCellDef> Available for Patient </th>
                <td mat-cell *matCellDef="let medicine">
                    {{ medicine.available_for_patient ? medicine.available_for_patient : 'N/A' }}
                </td>
            </ng-container>

            <ng-container matColumnDef="add_to_cart">
                <th mat-header-cell *matHeaderCellDef> Add to Cart </th>
                <td mat-cell *matCellDef="let medicine">
                    <button mat-raised-button color="primary" class="add-to-cart-button" (click)="addToCart(medicine)">
                        Add to Cart
                    </button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

        <mat-paginator #paginator [pageSize]="10" [pageSizeOptions]="[10, 20, 50, 100]"
            showFirstLastButtons></mat-paginator>
    </mat-card>
</div>